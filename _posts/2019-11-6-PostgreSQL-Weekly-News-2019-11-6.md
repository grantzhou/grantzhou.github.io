---
layout: post
title: PostgreSQL æ¯å‘¨æ–°é—» 2019-11-6
categories: [PostgreSQL]
tags: [PGWeekly]
---
### PostgreSQLæ¯å‘¨æ–°é—»#330 - 2019å¹´11æœˆ6æ—¥
![_config.yml]({{ site.baseurl }}/assets/img/PostgresWeekly.png)
å¤‡æ³¨ï¼š[è‹±æ–‡åŸæ–‡åœ°å€](https://postgresweekly.com/issues/330)

## [Postgres 12 åˆæ­¥æŸ¥è¯¢æ€§èƒ½å°è±¡](https://www.cybertec-postgresql.com/en/postgresql-v12-initial-query-performance-impressions/)
æˆ‘ä»¬ä¸€ç›´å¯¹ Postgres 12 å……æ»¡æœŸå¾…ï¼Œä½†å®ƒçš„å®é™…æ€§èƒ½è¡¨ç°å¦‚ä½•ï¼ŸKaarel è®¾ç½®äº†å„ç§è§„æ¨¡çº§åˆ«çš„å‹åŠ›æµ‹è¯•ï¼Œç»“æœå–œå¿§å‚åŠï¼Œæ²¡æœ‰æ˜æ˜¾çš„ç»“è®ºå¯ä»¥å¾—å‡ºã€‚

`Kaarel Moppel`

## [åœ¨é¢å‘è¡Œçš„æ•°æ®åº“ä¸­æ„å»ºåˆ—å¼å‹ç¼©](https://blog.timescale.com/blog/building-columnar-compression-in-a-row-oriented-database/)
Timescale å¦‚ä½•åœ¨å…¶æœ€æ–°ç‰ˆæœ¬çš„ TimescaleDB æ—¶åºæ•°æ®æ‰©å±•ä¸­å®ç° 91%-96% çš„å‹ç¼©ç‡ã€‚

`Timescale`

## [PostgreSQL ä¸“å®¶å®è·µåŸ¹è®­](http://www.2qpgconf.com)
åœ¨èŠåŠ å“¥ä¸¾åŠçš„ 2Q PGConf 2019 ä¼šè®®ä¸Šï¼Œä¸æœ¬åœ° 2ndQuadrant ä¸“å®¶è¿›è¡Œå®è·µ PostgreSQL åŸ¹è®­çš„ç‰¹åˆ«ä¼˜æƒ ä»·æ ¼ã€‚è¯¾ç¨‹åŒ…æ‹¬ï¼šPostgreSQL æ•°æ®åº“å®‰å…¨ã€PostgreSQL å¤šä¸»å¤åˆ¶ã€Postgres ä¼˜åŒ–ã€PostgreSQL ä¸šåŠ¡è¿ç»­æ€§ã€‚

`2ndQuadrant PostgreSQL Training` **èµåŠ©å•†**

## [postgres-checkup: Postgres å¥åº·æ£€æŸ¥å·¥å…·](https://gitlab.com/postgres-ai/postgres-checkup/)
ä¸€ä¸ªè¯Šæ–­å·¥å…·ï¼Œå¯¹ Postgres æ•°æ®åº“çš„å¥åº·çŠ¶å†µè¿›è¡Œ"æ·±åº¦åˆ†æ"ï¼Œæ£€æµ‹é—®é¢˜ï¼Œå¹¶ä¸ºè§£å†³å‘ç°çš„ä»»ä½•é—®é¢˜æä¾›å»ºè®®ã€‚[v1.3.0](https://gitlab.com/postgres-ai/postgres-checkup/-/tags/1.3.0) åˆšåˆšå‘å¸ƒã€‚

`Postgres.ai`

## [ä½¿ç”¨ HAProxy å’Œ Xinetd å®ç°åº”ç”¨ç¨‹åºè¿æ¥æ•…éšœè½¬ç§»](https://www.percona.com/blog/2019/10/31/postgresql-application-connection-failover-using-haproxy-with-xinetd/)
æˆ‘æ˜¯ [haproxy](http://www.haproxy.org/) çš„è¶…çº§ç²‰ä¸ï¼Œè¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ä½†æ˜“äºç®¡ç†çš„ TCP å’Œ HTTP ä»£ç†/è´Ÿè½½å‡è¡¡å™¨ï¼Œæ‰€ä»¥æˆ‘æœŸå¾…è¿™ä¸ªç³»åˆ—çš„å…¶ä½™éƒ¨åˆ†ã€‚

`Jobin Augustine`

## [å®ç° K-æœ€è¿‘é‚»ç©ºé—´åˆ†åŒºå¹¿ä¹‰æœç´¢æ ‘ç´¢å¼•](https://www.2ndquadrant.com/en/blog/postgresql-12-implementing-k-nearest-neighbor-space-partitioned-generalized-search-tree-indexes/)
K-æœ€è¿‘é‚»å›ç­”äº†"ä»€ä¹ˆæ˜¯æœ€æ¥è¿‘çš„åŒ¹é…ï¼Ÿ"è¿™ä¸ªé—®é¢˜ã€‚PostgreSQL 12 å¯ä»¥å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œå¹¶åœ¨å›ç­”æ—¶ä½¿ç”¨ç´¢å¼•ã€‚

`Kirk Roybal`

## [åœ¨ FreeBSD ä¸Šå®‰è£… PostgreSQL 12 è½¯ä»¶åŒ…](https://fluca1978.github.io/2019/11/04/PostgreSQL12FreeBSD.html)
ä½ éœ€è¦åšä¸€äº›å·¥ä½œï¼Œå› ä¸º Postgres 12 çš„æœ€ç»ˆç‰ˆæœ¬è¿˜æ²¡æœ‰è¿›å…¥å­£åº¦è½¯ä»¶åŒ…æ›´æ–°ã€‚

`Luca Ferrari`

## [é€šè¿‡ Ansible åœ¨ FreeBSD ä¸Šå®‰è£… Postgres](https://fluca1978.github.io/2019/10/30/PostgreSQL_FreeBSD_Ansible.html)

`Luca Ferrari`

## ğŸ›  ä»£ç å’Œå·¥å…·

## [PostgREST 6.0ï¼šä» Postgres æ•°æ®åº“æä¾› RESTful API](https://postgrest.org/en/v6.0/)
å®ƒä¸æ˜¯æ–°é¡¹ç›®ï¼Œä½†è¿™æ˜¯ä¸€ä¸ªæˆç†Ÿçš„é¡¹ç›®ï¼Œæœ¬å‘¨åœ¨ç¤¾äº¤åª’ä½“ä¸Šå†æ¬¡æµè¡Œèµ·æ¥ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬å†æ¬¡å…³æ³¨å®ƒ :-)

`Joe Nelson et al.`

## [æ¶ˆé™¤æ”¹è¿›æŸ¥è¯¢æ€§èƒ½çš„çŒœæµ‹](https://www.pgmustard.com?referrer=postgresweekly)
åŸºäºæŸ¥è¯¢è®¡åˆ’ï¼ŒpgMustard ä¸ºæ‚¨æä¾›ä½¿æŸ¥è¯¢æ›´å¿«çš„æŠ€å·§ã€‚å…è´¹è¯•ç”¨ã€‚

`pgMustard` **èµåŠ©å•†**

## [ä½¿ç”¨ Ruby ç®¡ç† PostgreSQL çš„åˆ†åŒºè¡¨](https://www.honeybadger.io/blog/pg-partition-manager/)
`pg_partition_manager` æ˜¯ä¸€ä¸ªæ–°çš„ gemï¼Œç”¨äºç»´æŠ¤éœ€è¦éšç€åº”ç”¨ç¨‹åºä¸­åŸºäºæ—¶é—´çš„æ•°æ®çš„æ·»åŠ å’Œè¿‡æœŸè€Œåˆ›å»ºå’Œåˆ é™¤çš„åˆ†åŒºè¡¨ã€‚

`Benjamin Curtis`

## [Pgpool-II 4.1.0 å‘å¸ƒ](https://www.postgresql.org/about/news/1989/)
ä¸º Postgres æ·»åŠ è¿æ¥æ± å’Œè´Ÿè½½å‡è¡¡ã€‚4.1 å¼•å…¥äº†è¯­å¥çº§è´Ÿè½½å‡è¡¡å’Œè‡ªåŠ¨æ•…éšœæ¢å¤ã€‚

`Pgpool Global Development Group`

## ğŸ’¡ æœ¬å‘¨æç¤º

**å°†å¤šä¸ª `LIKE` æ¨¡å¼æ”¾å…¥æ•°ç»„**

ä¸€ç§å¯¹åˆ—å†…å®¹æ‰§è¡Œä»»æ„æœç´¢çš„ç®€å•æ–¹æ³•æ˜¯åœ¨æŸ¥è¯¢ä¸­ä½¿ç”¨ `LIKE` å­å¥ã€‚ä¾‹å¦‚ï¼Œåœ¨åšå®¢æ–‡ç« è¡¨ä¸­ï¼Œæ­¤æŸ¥è¯¢å¯ä»¥æ‰¾åˆ°æ ‡é¢˜åŒ…å«å­—ç¬¦ä¸² `'Java'` çš„æ‰€æœ‰æ–‡ç« ï¼š

```sql
SELECT * FROM posts WHERE title LIKE '%Java%';
```

å¦‚æœæ‚¨æƒ³åˆ›å»ºæ›´å¤æ‚çš„æŸ¥è¯¢ï¼Œäº‹æƒ…å¾ˆå¿«å°±ä¼šå˜å¾—ç¬¨æ‹™ï¼š

```sql
SELECT * FROM posts WHERE title LIKE '%Java%' OR title LIKE '%Perl%' OR title LIKE '%Python%';
```

Postgres æ”¯æŒä¸¤ä¸ªç§°ä¸º `ANY`ï¼ˆ`SOME` æ˜¯åŒä¹‰åˆ«åï¼‰å’Œ `ALL` çš„ SQL è¿ç®—ç¬¦ï¼Œå¯ç”¨äºå¯¹ä¸€ç»„å€¼æ‰§è¡Œå•ä¸€æ£€æŸ¥ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶ä¸ `LIKE` æŸ¥è¯¢ä¸€èµ·ä½¿ç”¨ã€‚

`ANY` å’Œ `ALL` æ›´å¸¸ç”¨äºå­æŸ¥è¯¢ï¼Œä½†æˆ‘ä»¬å¯ä»¥å°†å¤šä¸ª `LIKE` åŒ¹é…æ¨¡å¼æ”¾å…¥æ•°ç»„ä¸­ï¼Œç„¶åå°†å…¶æä¾›ç»™ `ANY` æˆ– `ALL`ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```sql
SELECT * FROM posts WHERE title LIKE ANY(ARRAY['%Java%', '%Perl%', '%Python%']);
```

å¦‚æœæ‚¨å–œæ¬¢ï¼Œè¿˜æœ‰ä¸€ç§ä»¥æ›´çŸ­æ ·å¼ç¼–å†™æ•°ç»„æ–‡å­—çš„æ–¹æ³•ï¼š

```sql
SELECT * FROM posts WHERE title LIKE ANY('{%Java%,%Perl%,%Python%}');
```

è‡ªç„¶åœ°ï¼Œè™½ç„¶è¿™äº›æŸ¥è¯¢ä¼šæ‰¾åˆ° `title` ä¸ä»»ä½•æä¾›çš„æ¨¡å¼åŒ¹é…çš„ä»»ä½•è¡Œï¼Œä½†æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ `ALL` æ¥ç¡®ä¿åªè·å–åŒ…å«æ‰€æœ‰æ¨¡å¼çš„æ ‡é¢˜ã€‚

æœ¬å‘¨æç¤ºç”± [DigitalOcean](https://blog.digitalocean.com/how-we-launched-our-marketplace-using-digitalocean-kubernetes-part-1/?medium=display&utm_source=cooperpress&utm_campaign=MDB_Dev_Signup_Cold_Newsletter11-6-2019) èµåŠ©ã€‚äº†è§£ [DigitalOcean çš„å·¥ç¨‹å¸ˆå¦‚ä½•åœ¨å…¶æ‰˜ç®¡çš„ Kubernetes æœåŠ¡ä¹‹ä¸Šä¸ºå¼€å‘äººå‘˜æ„å»ºå¯æ‰©å±•çš„å¸‚åœº](https://blog.digitalocean.com/how-we-launched-our-marketplace-using-digitalocean-kubernetes-part-1/?medium=display&utm_source=cooperpress&utm_campaign=MDB_Dev_Signup_Cold_Newsletter11-6-2019)ã€‚

## ğŸ—“ å³å°†ä¸¾åŠçš„æ´»åŠ¨

- [PG Down Under](https://pgdu.org/)ï¼ˆ11æœˆ15æ—¥ï¼Œæ¾³å¤§åˆ©äºšæ‚‰å°¼ï¼‰â€” è¿™ä¸ªä¸€å¹´ä¸€åº¦çš„æ¾³å¤§åˆ©äºš Postgres ä¼šè®®çš„ç¬¬äºŒæ¬¡ä¸¾åŠã€‚
- [2Q PGCONF 2019](https://www.2qpgconf.com/)ï¼ˆ2019å¹´12æœˆ4-5æ—¥ï¼ŒèŠåŠ å“¥ï¼‰â€” ä¸€ä¸ªè‡´åŠ›äºäº¤æµä¸–ç•Œä¸Šæœ€å…ˆè¿›çš„å¼€æºæ•°æ®åº“ PostgreSQL çŸ¥è¯†çš„ä¼šè®®ã€‚
- [PgDaySF](https://2020.pgdaysf.org/)ï¼ˆ2020å¹´1æœˆ21æ—¥ï¼Œæ—§é‡‘å±±ï¼‰â€” å°† PostgreSQL å›½é™…ç¤¾åŒºå¸¦åˆ°æ—§é‡‘å±±å’Œç¡…è°·çš„ä¸­å¿ƒã€‚
- [PgConf.Russia](https://pgconf.ru/2020)ï¼ˆ2020å¹´2æœˆ3-5æ—¥ï¼Œä¿„ç½—æ–¯è«æ–¯ç§‘ï¼‰â€” ä¸€å¤©çš„æ•™ç¨‹å’Œä¸¤å¤©çš„ä¸‰ä¸ªå¹¶è¡Œä¼šè¯æ¼”è®²ã€‚
- [PGConf India](https://pgconf.in/conferences/pgconfin2020)ï¼ˆ2020å¹´2æœˆ26-28æ—¥ï¼Œå°åº¦é©¬å“ˆæ‹‰æ–½ç‰¹æ‹‰é‚¦ç­åŠ ç½—å°”ï¼‰â€” ä¸“é—¨çš„åŸ¹è®­æ—¥å’Œå¤šè½¨é“ä¸¤å¤©ä¼šè®®ã€‚
- [pgDay Paris 2020](https://2020.pgday.paris/#%2319)ï¼ˆ2020å¹´3æœˆ26æ—¥ï¼Œæ³•å›½å·´é»ï¼‰â€” åœ¨åŒè¡Œä¸­äº†è§£æ›´å¤šå…³äºä¸–ç•Œä¸Šæœ€å…ˆè¿›çš„å¼€æºæ•°æ®åº“çš„ä¿¡æ¯ã€‚