---
layout: post
categories: [PostgreSQL]
tags: [PGWeekly]

title: PostgreSQL æ¯å‘¨æ–°é—» 2020-7-15
---
### PostgreSQLæ¯å‘¨æ–°é—»#364 - 2020å¹´7æœˆ15æ—¥
![_config.yml]({{ site.baseurl }}/assets/img/PostgresWeekly.png)
å¤‡æ³¨ï¼š[è‹±æ–‡åŸæ–‡åœ°å€](https://postgresweekly.com/issues/364)
![img](https://res.cloudinary.com/cpress/image/upload/w_1280,e_sharpen:60/v1594744377/p6foxmu22977srw8jh18.png)
## [PGXï¼šä½¿ç”¨Rustæ„å»ºPostgresæ’ä»¶](https://postgresweekly.com/link/91774/web)
Rustæ˜¯ä¸€ç§éCæˆ–C++è¯­è¨€ç”¨äºPostgresæ’ä»¶å¼€å‘çš„æ¡†æ¶ã€‚ ä¸ºä»€ä¹ˆè¿™æ˜¯ä¸€ä»¶å¥½äº‹ï¼Ÿ æœ€è¿‘ï¼ŒRuståœ¨æ›´å¤šçš„å‰æ²¿åœˆå­ä¸­å˜å¾—éå¸¸æµè¡Œï¼Œå¹¶ä¸”è¯¥è¯­è¨€çš„å®‰å…¨åŠŸèƒ½ä½¿å…¶æˆä¸ºä¸€ç§å¼•äººæ³¨ç›®çš„é€‰æ‹©ã€‚


`ZomboDB `
## [JSONBï¼šç±»å‹çš„å®¹å™¨](https://postgresweekly.com/link/91775/web)
Bruceæé†’æˆ‘ä»¬ï¼ŒJSONBåˆ—ä¸ä»…éœ€è¦ä¿å­˜æ•°ç»„æˆ–åœ°å›¾/å“ˆå¸Œç­‰é›†åˆï¼Œæ‚¨è¿˜å¯ä»¥ç›´æ¥å­˜å‚¨å­—ç¬¦ä¸²ï¼Œæ•°å­—å’Œå¸ƒå°”å€¼ã€‚


`Bruce Momjian `
## [ä½¿ç”¨PostgreSQLå®ç°é«˜å¯ç”¨æ€§[ç™½çš®ä¹¦]](https://postgresweekly.com/link/91776/web)
å…³é”®çš„ä¸šåŠ¡åº”ç”¨ç¨‹åºéœ€è¦å…¶åç«¯æ•°æ®åº“é›†ç¾¤çš„é«˜å¯ç”¨æ€§ã€‚ æ¢ç´¢å¦‚ä½•è®¾ç½®å’Œéƒ¨ç½²æœ€å¤šå››ä¸ª9çš„ä¼ä¸šçº§é«˜å¯ç”¨æ€§ã€‚ åœ¨é«˜å¯ç”¨çš„Postgresé›†ç¾¤ç™½çš®ä¹¦ä¸­äº†è§£åŠŸèƒ½å’Œä¼˜åŠ¿ã€‚


`2ndQuadrant PostgreSQL Products `
## [å¦‚ä½•æŸ¥æ‰¾ä¸€ä¸ªç”Ÿäº1997å¹´çš„Postgres bug](https://postgresweekly.com/link/91777/web)
è®²è¿°äº†ä¸€ä¸ªéšè—äº†23å¹´çš„ä¸€ä¸ªå…³äºcircleæ•°æ®ç±»å‹çš„bugçš„æ•…äº‹ã€‚


`David Zhang `
## [å¦‚ä½•ä½¿ç”¨pgBouncerè¿›è¡ŒSCRAM](https://postgresweekly.com/link/91782/web)
é™¤äº†è®²è¿°äº†pgBouncerï¼ˆè¿æ¥æ± ï¼‰å¦‚ä½•ä½¿ç”¨SCRAMæ¥åšèº«ä»½éªŒè¯ï¼Œè¿˜å¯ä»¥äº†è§£ä»€ä¹ˆæ˜¯SCRAMèº«ä»½éªŒè¯åŠå…¶å·¥ä½œæ–¹å¼ã€‚


`Jonathan S. Katz `
## [ä»€ä¹ˆæ˜¯Postgresæ¨¡æ¿ï¼Ÿ](https://postgresweekly.com/link/91784/web)
æˆ‘ä»¬åœ¨ä¹‹å‰çš„â€œä¸€å‘¨æç¤ºâ€ä¸­ä»‹ç»äº†è¿™ä¸€ç‚¹ï¼Œä½†æ˜¯ï¼Œå¦‚æœæ‚¨ä¸çŸ¥é“ä»€ä¹ˆæ˜¯æ¨¡æ¿æ•°æ®åº“ä»¥åŠå¦‚ä½•ä½¿ç”¨å®ƒä»¬ï¼Œé‚£ä¹ˆè¿™ç¯‡æ–‡å¾ˆé€‚åˆä½ ã€‚


`Angelico de los Reyes `
## [å¤–éƒ¨æ•°æ®åŒ…è£…å™¨FDWï¼šPostgresçš„ç§˜å¯†æ­¦å™¨ï¼Ÿ](https://postgresweekly.com/link/91785/web)
å¤–éƒ¨æ•°æ®åŒ…è£…å™¨ï¼ˆé€šå¸¸ç®€ç§°ä¸ºFDWï¼‰ä½¿æ‚¨å¯ä»¥ç›´æ¥ä»PostgreSQLå®ä¾‹ä¸­æŸ¥è¯¢è¿œç¨‹æ•°æ®åº“ï¼Œè¿™æ˜¯å®ƒä¸Splitgraphï¼ˆç”¨äºæ„å»ºå’Œä½¿ç”¨â€œæ•°æ®å›¾åƒâ€çš„å·¥å…·åŒ…ï¼‰ä¸€èµ·å·¥ä½œçš„æ–¹å¼ã€‚


`Artjoms IÅ¡kovs (Splitgraph) `
## [åˆ†å¸ƒå¼SQLå‡»è´¥äº†æ„å»ºå¾®æœåŠ¡çš„PolyglotæŒä¹…æ€§](https://postgresweekly.com/link/91786/web)
PolyglotæŒä¹…æ€§æ˜¯ç‰ˆæœ¬å‘å¸ƒçš„æ— å£°æ€æ‰‹ï¼› åˆ†å¸ƒå¼SQLæ˜¯å½“ä»Šå¤šäº‘æ—¶ä»£çš„ç­”æ¡ˆã€‚


`YugabyteDB `
## [PgTypedï¼šTypeScriptä¸­çš„Tç±»å‹å®‰å…¨ SQL](https://postgresweekly.com/link/91787/web)
åœ¨TypeScriptä¸­ä½¿ç”¨å…·æœ‰ä¿è¯ç±»å‹å®‰å…¨æ€§çš„åŸå§‹SQLã€‚


`Adel Salakh `
## [pgsodiumï¼šä½¿ç”¨libsodiumçš„Postgresæ‰©å±•](https://postgresweekly.com/link/91788/web)
libsodiumæ˜¯ä¸€ä¸ªåŠ å¯†ï¼Œè§£å¯†ï¼Œç­¾åï¼Œå¯†ç å“ˆå¸Œç­‰çš„åŠ å¯†åº“ã€‚ æˆ‘ä»¬ä¹‹å‰å‘å¸ƒäº†Alphaï¼Œç°åœ¨æ˜¯1.0 ï¼š-)


`Michel Pelletier `
# ğŸ’¡æœ¬å‘¨æç¤º
RANKå’ŒDENSE_RANKç”¨äºæ’åé¡ºåº

æ‹¿äººä»¬æœ€å–œæ¬¢çš„æ•°æ®åº“ç³»ç»Ÿä¸ºä¾‹å­ï¼Œäº§ç”Ÿäº†ä»¥ä¸‹çš„ä¾‹å­ï¼š
```
CREATE TABLE databases (name TEXT, votes INT);
INSERT INTO databases VALUES
  ('Postgres', 10000),
  ('MySQL', 4522),
  ('SQLite', 9500),
  ('MongoDB', 4522),
  ('Oracle', 4580),
  ('Redis', 9500);
```
æˆ‘ä»¬æƒ³è¦æŒ‰é¡ºåºè·å¾—ç»“æœä»¥åŠæ¯ä¸ªæ•°æ®åº“çš„ä½ç½®ç­‰çº§ï¼š

```
SELECT row_number() OVER (ORDER by votes DESC), * FROM databases;
```
![img](https://res.cloudinary.com/cpress/image/upload/w_1280,e_sharpen:60,g_north,h_410,c_crop/cxvt9iro8cn0hlby7ey8.png)

å°½ç®¡Redisä¸SQLiteçš„ç¥¨æ•°ç›¸åŒï¼Œä½†Redisä»æ’åç¬¬ä¸‰ï¼Œè¿™å¯¹æˆ‘æ¥è¯´ä¼¼ä¹å¹¶ä¸å…¬å¹³ï¼ ç°å®ä¸–ç•Œä¸­çš„æ’åé€šå¸¸ä¼šè®°å½•åŒç­‰/å¹¶åˆ—çš„å¾—åˆ†ï¼Œå¹¶å¯¹ç›¸ä¼¼å¾—åˆ†çš„é¡¹ç›®èµ‹äºˆç›¸åŒçš„æ’åã€‚

è¾“å…¥RANKå’ŒDENSE_RANKï¼Œè¿™æ˜¯å‡ ä¸ªçª—å£å‡½æ•°ä¸­çš„ä¸¤ä¸ªï¼š

```
SELECT DENSE_RANK() OVER (ORDER by votes DESC), * FROM databases;
SELECT RANK() OVER (ORDER by votes DESC), * FROM databases;
```
![img](https://res.cloudinary.com/cpress/image/upload/w_1280,e_sharpen:60/v1594652204/y9ccymacboucz3zeyc5m.png)
åŒºåˆ«æ˜¯ç»†å¾®çš„ï¼Œä½†æ˜¯RANKä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§æ›´ä¼ ç»Ÿçš„æ’åæ–¹æ³•ï¼Œå³å¦‚æœæœ‰ä¸¤ä¸ªç¬¬äºŒåçš„æ¡ç›®ï¼Œå°±ä¸å†æœ‰ç¬¬ä¸‰åçš„æ¡ç›®ã€‚ ä½¿ç”¨DENSE_RANKçš„è¯ï¼Œå³ä½¿æœ‰é‡å¤ï¼Œä¹Ÿå¯ä»¥ç¡®ä¿è¿ç»­æ’åã€‚

âš¡ï¸å¿«é€Ÿäº‹å®ï¼š
* DigitalOceançš„æ‰˜ç®¡æ•°æ®åº“æœåŠ¡ç°åœ¨æ”¯æŒPostgres 12ã€‚
* å¢å¡Â·æ³•æ‹‰åˆ©ï¼ˆLuca Ferrariï¼‰ä»PG-USçš„é‚®ä»¶ä¸­æ”¶åˆ°äº†Postgres 12çºªå¿µå¸ã€‚
* Lucaè¿˜å¸Œæœ›é¼“åŠ±æ‚¨æµ‹è¯•Postgres 13 beta 2ã€‚
* PGConf.EU 2020å·²å–æ¶ˆã€‚

