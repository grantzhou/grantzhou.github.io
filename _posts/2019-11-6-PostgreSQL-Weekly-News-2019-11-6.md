---
layout: post
title: PostgreSQL æ¯å‘¨æ–°é—» 2019-11-6
categories: [PostgreSQL]
tags: [PGWeekly]
---
### PostgreSQLæ¯å‘¨æ–°é—»#330 - 2019å¹´11æœˆ6æ—¥
![_config.yml]({{ site.baseurl }}/images/PostgresWeekly.png)
å¤‡æ³¨ï¼š[è‹±æ–‡åŸæ–‡åœ°å€](https://postgresweekly.com/issues/330)

## [Postgres 12 åˆå§‹æŸ¥è¯¢æ€§èƒ½å°è±¡](https://www.cybertec-postgresql.com/en/postgresql-v12-initial-query-performance-impressions/)
æˆ‘ä»¬ä¸€ç›´å¯¹ Postgres 12 å……æ»¡æœŸå¾…ï¼Œä½†å®ƒçš„å®é™…æ€§èƒ½å¦‚ä½•ï¼ŸKaarel è®¾ç½®äº†ä¸åŒè§„æ¨¡çº§åˆ«çš„å‹åŠ›æµ‹è¯•ï¼Œç»“æœå¥½åå‚åŠï¼Œæ²¡æœ‰æ˜æ˜¾çš„ç»“è®ºã€‚

`Kaarel Moppel`

## [åœ¨é¢å‘è¡Œçš„æ•°æ®åº“ä¸­æ„å»ºåˆ—å¼å‹ç¼©](https://blog.timescale.com/blog/building-columnar-compression-in-a-row-oriented-database/)
Timescale å¦‚ä½•åœ¨å…¶æœ€æ–°ç‰ˆæœ¬çš„ TimescaleDB æ—¶åºæ•°æ®æ‰©å±•ï¼ˆé’ˆå¯¹ Postgresï¼‰ä¸­å®ç° 91%-96% çš„å‹ç¼©ç‡ã€‚

`Timescale`

## [PostgreSQL ä¸“å®¶å®è·µåŸ¹è®­](http://www.2qpgconf.com)
åœ¨èŠåŠ å“¥ä¸¾åŠçš„ 2Q PGConf 2019 å¤§ä¼šä¸Šï¼Œä¸å½“åœ° 2ndQuadrant ä¸“å®¶ä¸€èµ·å‚åŠ  PostgreSQL å®è·µåŸ¹è®­çš„ç‰¹æƒ ä»·æ ¼ã€‚è¯¾ç¨‹åŒ…æ‹¬ï¼šPostgreSQL æ•°æ®åº“å®‰å…¨ã€PostgreSQL å¤šä¸»å¤åˆ¶ã€Postgres ä¼˜åŒ–ã€PostgreSQL ä¸šåŠ¡è¿ç»­æ€§ã€‚

`2ndQuadrant PostgreSQL Training` **èµåŠ©å•†**

## [postgres-checkupï¼šPostgres å¥åº·æ£€æŸ¥å·¥å…·](https://gitlab.com/postgres-ai/postgres-checkup/)
ä¸€ä¸ªè¯Šæ–­å·¥å…·ï¼Œå¯ä»¥å¯¹ Postgres æ•°æ®åº“çš„å¥åº·çŠ¶å†µè¿›è¡Œ"æ·±åº¦åˆ†æ"ï¼Œæ£€æµ‹é—®é¢˜ï¼Œå¹¶é’ˆå¯¹å‘ç°çš„ä»»ä½•é—®é¢˜æä¾›è§£å†³å»ºè®®ã€‚[v1.3.0](https://gitlab.com/postgres-ai/postgres-checkup/-/tags/1.3.0) åˆšåˆšå‘å¸ƒã€‚

`Postgres.ai`

## [ä½¿ç”¨ HAProxy å’Œ Xinetd å®ç°åº”ç”¨ç¨‹åºè¿æ¥æ•…éšœè½¬ç§»](https://www.percona.com/blog/2019/10/31/postgresql-application-connection-failover-using-haproxy-with-xinetd/)
æˆ‘æ˜¯ [haproxy](http://www.haproxy.org/) çš„å¿ å®ç²‰ä¸ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¼ºå¤§ä½†æ˜“äºç®¡ç†çš„ TCP å’Œ HTTP ä»£ç†/è´Ÿè½½å‡è¡¡å™¨ï¼Œæ‰€ä»¥æˆ‘æœŸå¾…è¿™ä¸ªç³»åˆ—çš„å…¶ä½™éƒ¨åˆ†ã€‚

`Jobin Augustine`

## [å®ç° K-æœ€è¿‘é‚»ç©ºé—´åˆ†åŒºå¹¿ä¹‰æœç´¢æ ‘ç´¢å¼•](https://www.2ndquadrant.com/en/blog/postgresql-12-implementing-k-nearest-neighbor-space-partitioned-generalized-search-tree-indexes/)
K-æœ€è¿‘é‚»å›ç­”äº†"ä»€ä¹ˆæ˜¯æœ€æ¥è¿‘çš„åŒ¹é…ï¼Ÿ"è¿™ä¸ªé—®é¢˜ã€‚PostgreSQL 12 å¯ä»¥å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œå¹¶åœ¨æ­¤è¿‡ç¨‹ä¸­ä½¿ç”¨ç´¢å¼•ã€‚

`Kirk Roybal`

## [åœ¨ FreeBSD ä¸Šå®‰è£… PostgreSQL 12 åŒ…](https://fluca1978.github.io/2019/11/04/PostgreSQL12FreeBSD.html)
ç”±äº Postgres 12 çš„æœ€ç»ˆç‰ˆæœ¬å°šæœªåŒ…å«åœ¨å­£åº¦åŒ…æ›´æ–°ä¸­ï¼Œæ‚¨éœ€è¦åšä¸€äº›å·¥ä½œã€‚

`Luca Ferrari`

## [é€šè¿‡ Ansible åœ¨ FreeBSD ä¸Šå®‰è£… Postgres](https://fluca1978.github.io/2019/10/30/PostgreSQL_FreeBSD_Ansible.html)

`Luca Ferrari`

## ğŸ“‚ **ä»£ç å’Œé¡¹ç›®**

## [PostgREST 6.0ï¼šä» Postgres æ•°æ®åº“æä¾› RESTful API](https://postgrest.org/en/v6.0/)
è¿™ä¸æ˜¯æ–°é¡¹ç›®ï¼Œä½†å®ƒæ˜¯ä¸€ä¸ªæˆç†Ÿçš„é¡¹ç›®ï¼Œæœ¬å‘¨åœ¨ç¤¾äº¤åª’ä½“ä¸Šå†æ¬¡å—åˆ°å…³æ³¨ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬å†æ¬¡èšç„¦å®ƒ :-)

`Joe Nelson et al.`

## [æ¶ˆé™¤æ”¹å–„æŸ¥è¯¢æ€§èƒ½çš„çŒœæµ‹](https://www.pgmustard.com?referrer=postgresweekly)
åŸºäºæŸ¥è¯¢è®¡åˆ’ï¼ŒpgMustard ä¸ºæ‚¨æä¾›ä½¿æŸ¥è¯¢æ›´å¿«çš„æç¤ºã€‚å…è´¹è¯•ç”¨ã€‚

`pgMustard` **èµåŠ©å•†**

## [ä½¿ç”¨ Ruby ç®¡ç† PostgreSQL çš„åˆ†åŒºè¡¨](https://www.honeybadger.io/blog/pg-partition-manager/)
`pg_partition_manager` æ˜¯ä¸€ä¸ªæ–°çš„ gemï¼Œç”¨äºç»´æŠ¤éœ€è¦éšæ—¶é—´åˆ›å»ºå’Œåˆ é™¤çš„åˆ†åŒºè¡¨ï¼Œå› ä¸ºæ‚¨åœ¨åº”ç”¨ç¨‹åºä¸­æ·»åŠ å’Œè¿‡æœŸåŸºäºæ—¶é—´çš„æ•°æ®ã€‚

`Benjamin Curtis`

## [Pgpool-II 4.1.0 å‘å¸ƒ](https://www.postgresql.org/about/news/1989/)
ä¸º Postgres æ·»åŠ è¿æ¥æ± å’Œè´Ÿè½½å‡è¡¡ã€‚4.1 å¼•å…¥äº†è¯­å¥çº§è´Ÿè½½å‡è¡¡å’Œè‡ªåŠ¨æ•…éšœæ¢å¤ã€‚

`Pgpool Global Development Group`

## ğŸ’¡ **æœ¬å‘¨æç¤º**

### å°†å¤šä¸ª LIKE æ¨¡å¼æ”¾å…¥æ•°ç»„

åœ¨åˆ—çš„å†…å®¹ä¸Šæ‰§è¡Œä»»æ„æœç´¢çš„ä¸€ç§ç®€å•æ–¹æ³•æ˜¯åœ¨æŸ¥è¯¢ä¸­ä½¿ç”¨ `LIKE` å­å¥ã€‚ä¾‹å¦‚ï¼Œåœ¨åšå®¢æ–‡ç« è¡¨ä¸­ï¼Œæ­¤æŸ¥è¯¢å¯ä»¥æ‰¾åˆ°æ ‡é¢˜åŒ…å«å­—ç¬¦ä¸² `'Java'` çš„æ‰€æœ‰æ–‡ç« ï¼š

```sql
SELECT * FROM posts WHERE title LIKE '%Java%';
```

å¦‚æœæ‚¨æƒ³åˆ›å»ºæ›´å¤æ‚çš„æŸ¥è¯¢ï¼Œäº‹æƒ…å¾ˆå¿«å°±ä¼šå˜å¾—ç¬¨æ‹™ï¼š

```sql
SELECT * FROM posts WHERE title LIKE '%Java%' OR title LIKE '%Perl%' OR title LIKE '%Python%';
```

Postgres æ”¯æŒä¸¤ä¸ªç§°ä¸º `ANY`ï¼ˆ`SOME` æ˜¯ä¸€ä¸ªå«ä¹‰ç›¸åŒçš„åˆ«åï¼‰å’Œ `ALL` çš„ SQL æ“ä½œç¬¦ï¼Œå¯ç”¨äºå¯¹ä¸€ç»„å€¼æ‰§è¡Œå•ä¸€æ£€æŸ¥ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶ä¸ `LIKE` æŸ¥è¯¢ä¸€èµ·ä½¿ç”¨ã€‚

`ANY` å’Œ `ALL` æ›´å¸¸ä¸å­æŸ¥è¯¢ä¸€èµ·ä½¿ç”¨ï¼Œä½†æˆ‘ä»¬å¯ä»¥å°†å¤šä¸ª `LIKE` åŒ¹é…æ¨¡å¼æ”¾å…¥æ•°ç»„ï¼Œç„¶ååƒè¿™æ ·å°†å…¶æä¾›ç»™ `ANY` æˆ– `ALL`ï¼š

```sql
SELECT * FROM posts WHERE title LIKE ANY(ARRAY['%Java%', '%Perl%', '%Python%']);
```

è¿˜æœ‰ä¸€ç§ä»¥æ›´çŸ­çš„æ ·å¼ç¼–å†™æ•°ç»„å­—é¢é‡çš„æ–¹æ³•ï¼Œå¦‚æœæ‚¨å–œæ¬¢ï¼š

```sql
SELECT * FROM posts WHERE title LIKE ANY('{%Java%,%Perl%,%Python%}');
```

å½“ç„¶ï¼Œè™½ç„¶è¿™äº›æŸ¥è¯¢å°†æ‰¾åˆ° `title` ä¸ä»»ä½•æä¾›çš„æ¨¡å¼åŒ¹é…çš„ä»»ä½•è¡Œï¼Œä½†æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ `ALL` æ¥ç¡®ä¿åªè·å–åŒ…å«æ‰€æœ‰æ¨¡å¼çš„æ ‡é¢˜ã€‚

æœ¬å‘¨æç¤ºç”± [DigitalOcean](https://blog.digitalocean.com/how-we-launched-our-marketplace-using-digitalocean-kubernetes-part-1/?medium=display&utm_source=cooperpress&utm_campaign=MDB_Dev_Signup_Cold_Newsletter11-6-2019) èµåŠ©ã€‚äº†è§£ [DigitalOcean çš„å·¥ç¨‹å¸ˆå¦‚ä½•åœ¨ä»–ä»¬çš„æ‰˜ç®¡ Kubernetes æœåŠ¡ä¹‹ä¸Šä¸ºå¼€å‘äººå‘˜æ„å»ºå¯æ‰©å±•çš„å¸‚åœº](https://blog.digitalocean.com/how-we-launched-our-marketplace-using-digitalocean-kubernetes-part-1/?medium=display&utm_source=cooperpress&utm_campaign=MDB_Dev_Signup_Cold_Newsletter11-6-2019)ã€‚

## ğŸ—“ **å³å°†ä¸¾è¡Œçš„æ´»åŠ¨**

- [PG Down Under](https://pgdu.org/)ï¼ˆ11æœˆ15æ—¥ï¼Œæ¾³å¤§åˆ©äºšæ‚‰å°¼ï¼‰â€” è¿™ä¸ªå¹´åº¦æ¾³å¤§åˆ©äºš Postgres ä¼šè®®çš„ç¬¬äºŒæ¬¡ä¸¾åŠã€‚
- [2Q PGCONF 2019](https://www.2qpgconf.com/)ï¼ˆ2019å¹´12æœˆ4-5æ—¥ï¼ŒèŠåŠ å“¥ï¼‰â€” ä¸€ä¸ªè‡´åŠ›äºäº¤æµä¸–ç•Œä¸Šæœ€å…ˆè¿›çš„å¼€æºæ•°æ®åº“ PostgreSQL çŸ¥è¯†çš„ä¼šè®®ã€‚
- [PgDaySF](https://2020.pgdaysf.org/)ï¼ˆ2020å¹´1æœˆ21æ—¥ï¼Œæ—§é‡‘å±±ï¼‰â€” å°† PostgreSQL å›½é™…ç¤¾åŒºå¸¦åˆ°æ—§é‡‘å±±å’Œç¡…è°·çš„å¿ƒè„åœ°å¸¦ã€‚
- [PgConf.Russia](https://pgconf.ru/2020)ï¼ˆ2020å¹´2æœˆ3-5æ—¥ï¼Œä¿„ç½—æ–¯è«æ–¯ç§‘ï¼‰â€” ä¸€å¤©çš„æ•™ç¨‹å’Œä¸¤å¤©çš„ä¸‰ä¸ªå¹³è¡Œä¼šè®®æ¼”è®²ã€‚
- [PGConf India](https://pgconf.in/conferences/pgconfin2020)ï¼ˆ2020å¹´2æœˆ26-28æ—¥ï¼Œå°åº¦é©¬å“ˆæ‹‰æ–½ç‰¹æ‹‰é‚¦ç­åŠ ç½—å°”ï¼‰â€” ä¸“é—¨çš„åŸ¹è®­æ—¥å’Œä¸ºæœŸä¸¤å¤©çš„å¤šè½¨é“ä¼šè®®ã€‚
- [pgDay Paris 2020](https://2020.pgday.paris/#%2319)ï¼ˆ2020å¹´3æœˆ26æ—¥ï¼Œæ³•å›½å·´é»ï¼‰â€” ä¸åŒè¡Œä¸€èµ·äº†è§£æ›´å¤šå…³äºä¸–ç•Œä¸Šæœ€å…ˆè¿›çš„å¼€æºæ•°æ®åº“çš„ä¿¡æ¯ã€‚